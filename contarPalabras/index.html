<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contador de Sílabas</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #f9f9f9;
    }
    textarea {
      width: 100%;
      height: 200px;
      padding: 10px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    pre {
      background: #333;
      color: #fff;
      padding: 10px;
      border-radius: 5px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>

<h1>Contador de Sílabas para Poesía</h1>
<p>Escribe tu poesía en el cuadro de abajo. El número de sílabas por línea se mostrará automáticamente:</p>

<textarea id="poetryInput" placeholder="Escribe aquí tu poesía..."></textarea>

<h2>Resultados:</h2>
<pre id="syllableResults">Línea 1: 0 sílabas</pre>

<script>
  // Función para contar sílabas básicas
  function contarSilabas(frase) {
    const vocales = "aeiouáéíóúü";
    const diptongos = [
      "ai", "au", "ei", "eu", "oi", "ou", "iu", "ui", 
      "ia", "ie", "io", "ua", "ue", "uo", "üe", "üi"
    ];

    // Normalizar la frase
    frase = frase.toLowerCase().replace(/[^a-záéíóúü\s]/g, "").trim();

    let palabras = frase.split(/\s+/);
    let totalSilabas = 0;

    for (let palabra of palabras) {
      let silabas = 0;
      let i = 0;

      while (i < palabra.length) {
        if (i < palabra.length - 1 && diptongos.includes(palabra[i] + palabra[i + 1])) {
          silabas++;
          i += 2;
        } else if (vocales.includes(palabra[i])) {
          silabas++;
          i++;
        } else {
          i++;
        }
      }

      totalSilabas += silabas;
    }

    return totalSilabas;
  }

  // Función para contar sílabas por línea
  function contarSilabasPorLinea(texto) {
    const lineas = texto.split("\n");
    const resultados = [];

    lineas.forEach((linea, index) => {
      const silabas = linea.trim() ? contarSilabas(linea) : 0;
      resultados.push(`Línea ${index + 1}: ${silabas} sílabas`);
    });

    return resultados.join("\n");
  }

  // Referencias a los elementos HTML
  const poetryInput = document.getElementById("poetryInput");
  const syllableResults = document.getElementById("syllableResults");

  // Evento de entrada para actualizar el conteo en tiempo real
  poetryInput.addEventListener("input", () => {
    const texto = poetryInput.value;
    const resultados = contarSilabasPorLinea(texto);
    syllableResults.textContent = resultados;
  });
</script>

</body>
</html>
